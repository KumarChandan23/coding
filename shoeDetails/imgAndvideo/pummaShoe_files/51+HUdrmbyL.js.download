'use strict';mix_d("SBXGwentPHDCards__multi-brand-detail-creative-desktop:multi-brand-detail-creative-desktop__6pLCDg5e","exports tslib @c/dom @c/aui-utils @c/remote-operations @c/pagemarker @c/logger @c/metrics @c/aui-feature-detect @c/browser-operations @p/a-ajax @c/aui-modal @p/A @c/scoped-dom @c/aui-untrusted-ajax".split(" "),function(la,x,Xa,ma,Ya,Za,$a,C,ab,na,bb,cb,db,eb,fb){function D(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function E(a,b){return function(c){c=w(a,
c);return b?b(c):c}}function oa(a,b,c,d){b?(y("Send"+a+"Success"),c&&y("Send"+a+"Success_"+c),d&&y("Send"+a+"Success_"+d)):(y("Send"+a+"Failure"),c&&y("Send"+a+"Failure_"+c),d&&y("Send"+a+"Failure_"+d))}function pa(a){return Array.isArray(a)?a.map(function(b){return x.__assign(x.__assign({},b),{width:0,height:0})}):{url:a.url,width:0,height:0}}var F=D(Xa),qa=D(ma),gb=D(Ya),hb=D(Za),O=D($a),ra=D(C),ib=D(ab),da=D(na),jb=D(bb),sa=D(cb),S=D(db),ta=D(eb),kb=D(fb),L,U;(function(a){a.Cornerstone="CSTONE";
a.Axiom="AXIOM"})(U||(U={}));var lb=(L={},L.e="basebe.ClientErrors.4",L.i="basebe.Impressions.6",L.c="basebe.Clicks.5",L.s="basebe.Swipes.5",L.v="basebe.Viewabilities.5",L.vc="basebe.VisualCompleteness.7",L.ss="basebe.slideshow.1",L.ia="basebe.ImpressionsV2.2",L),ea=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in a?a.msMatchesSelector(b):"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):0<=A(b,G().body).indexOf(a)},u=function(a,b){b=b||F["default"].cardRoot;return!a||ea(b,
a)?b:b.querySelector(a)},A=function(a,b){return Array.prototype.slice.call((b||F["default"].cardRoot).querySelectorAll(a))},w=function(a,b){return(b=u("["+a+"]",b))?b.getAttribute(a):null},fa=function(a,b){for(;b&&b!==F["default"].cardRoot;){if(ea(b,a))return b;b=b.parentElement}return null},ua=function(a,b){return(b=fa("["+a+"]",b))?b.getAttribute(a):null},X=function(a){if(a)return a=a.getBoundingClientRect(),{left:a.left,right:a.right,top:a.top,bottom:a.bottom};a=G().defaultView;return{left:0,top:0,
right:a.innerWidth,bottom:a.innerHeight}},G=function(){return u().ownerDocument},P=function(a,b){O["default"].log(a,"ERROR",b||"SBX_GWENT")},va=function(a){var b;a=/\?([^#]+)/.exec(a);if(!a)return[];a=a[1].split("&");var c=null;try{for(var d=x.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(h){var g={error:h}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error;}}return c?(g=c.split("=").pop()||"")?g.split("_"):[]:[]},wa=
function(a,b,c){var d={};if(5<c.length){d.el=c.pop()||null;a:{var e;try{for(var f=x.__values(c),g=f.next();!g.done;g=f.next()){var h=g.value;if(/^\d+$/.test(h)){var l=h;break a}}}catch(k){var n={error:k}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(n)throw n.error;}}l=null}d.index=l;d.asin=ua("data-asin",b);d.type=ua("data-avar",b)}a.c(d,b)},mb=function(a,b){var c=va(b.href);wa(a,b,c)},nb=function(a,b){var c=G().defaultView,d=function(e){2!==e.button&&(mb(a,b),e.metaKey||e.altKey||e.shiftKey||
e.ctrlKey||1===e.button||"_blank"===b.target||(e.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",d);b.addEventListener("auxclick",d)},xa=function(a,b,c){var d=u("[data-active]"),e=(null===d||void 0===d?void 0:d.dataset)||{};d=e.paginationId;e=e.index;b.c({el:"sb-slideshow-arrow",type:a,asin:void 0===d?null:d,index:void 0===e?null:e},c)},pb=function(a,b){A("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){nb(a,
c)});A(".amazon-follow",b).forEach(function(c){c.addEventListener("click",function(){var d=va("?&ref_="+c.getAttribute("data-ref"));wa(a,c,d)})});A('[data-mix-operations="handleNext"]').forEach(function(c){c.addEventListener("click",function(){xa("next",a,b)})});A('[data-mix-operations="handlePrev"]').forEach(function(c){c.addEventListener("click",function(){xa("prev",a,b)})});A('[data-mix-operations="handlePaginationClick"]').forEach(function(c){c.addEventListener("click",function(){var d=c.dataset||
{},e=d.paginationId;d=d.index;a.c({el:"sb-slideshow-pagination",type:"pagination",index:void 0===d?null:d,asin:void 0===e?null:e},b)})});A('[data-mix-operations="hotSpotClick"]').forEach(function(c){c.addEventListener("click",function(){var d,e=(c.dataset||{}).asinid;e=void 0===e?null:e;var f=c.style,g=f.left;f=f.top;var h=u('[data-asin="'+e+'"]')||void 0;h=((null===(d=u("[data-asinindex]",h))||void 0===d?void 0:d.dataset)||{}).asinindex;d=void 0===h?null:h;g={x:parseFloat(g),y:parseFloat(f)};g=JSON.stringify(g);
e=x.__assign({type:g},{asin:e,el:"hotspot",index:d});a.c(e,c)})});ob(a)},ob=function(a){var b=u('[class*="seeProducts"]'),c=u('[data-mix-operations="expandHandler"]'),d=A('[class*="sidebarButton"]'),e=[b,c].concat(d);if(e.length){var f=[];e.forEach(function(h){if(h){var l=h instanceof HTMLButtonElement&&!w("data-index",h)?"seeProducts":h instanceof HTMLButtonElement?"asinSidebar":"shoppableImageCollapsed",n={asin:h.dataset.asinid||null,index:h.dataset.index||null,el:l};l=function(){if(h){var k=x.__assign({type:"collapsed"},
n);a.c(k,h);g(e,f)}};f.push(l);h.addEventListener("click",l)}});var g=function(h,l){h.forEach(function(n,k){n&&n.removeEventListener("click",l[k])})}}},ya=E("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),za=E("data-var"),Aa=E("data-mrkt"),qb=E("data-rid"),rb=E("data-cid"),sb=E("data-iid"),tb=E("data-aid"),Ba=E("data-aidx"),ub=E("data-idt",function(a){switch(a){case U.Axiom:return U.Axiom;default:return U.Cornerstone}}),Ca=E("data-wl",function(a){return a?a.split(","):[]}),vb=E("data-slot"),
Da=E("data-ts"),Ea=function(){var a=G().defaultView;return a.innerWidth+"x"+a.innerHeight},Fa=function(a){return{id:w("data-asin",a),prime:!!u(".a-icon-prime",a),price:!!u(".a-price",a),savings:!!u('.a-price[data-a-strike="true"]',a),rating:w("data-rt",a),badge:w("data-deal",a)}},Y=function(a,b,c){return a>=b&&a<=c},Ga=function(a,b){var c=G().defaultView,d,e=function(){d||(d=c.setTimeout(a,b))};e.cancel=function(){c.clearTimeout(d);d=0};return e},wb=function(a,b){void 0===b&&(b=0);return function(){qa["default"].delay(a,
b)}},Z=function(a,b,c){var d=(c||{}).ms||25,e=(c||{}).el||G().defaultView,f=qa["default"].throttle(b,d);e.addEventListener(a,f);return function(){e.removeEventListener(a,f)}},Ha=function(a,b){return Z("scroll",a,b)},aa=JSON.stringify({v:{def:"iab",event:"VIEWED"},programType:"SBC"}),Ja=function(a,b){var c=a.getBoundingClientRect();if(a=c.width*c.height){var d=c.top,e=c.bottom,f=c.left,g=c.right,h=G().defaultView;c=h.innerHeight;f=Ia(f,g,h.innerWidth);d=Ia(d,e,c);if(.5<=f*d/a)if(b)b();else return!0;
else if(b)b.cancel();else return!0}},Ia=function(a,b,c){return 0<=a?Math.max(Math.min(c-a,b-a),0):0<b?Math.max(Math.min(Math.min(b,c),b-a),0):0},Ka=function(a){a="/"===a.substr(-1)?a+"v/":a+"/v/";if("function"===typeof window.fetch)fetch(a+encodeURI(aa),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:aa}).then(function(c){c.ok||0===c.status||O["default"].log(c.status+" "+c.statusText,"ERROR","sbx-ce-vcpm-fetch");y("PixelClientCallSuccess")}).catch(function(c){y("PixelClientCallFailure");
O["default"].log(c,"ERROR","sbx-ce-vcpm-fetch")});else{var b=new XMLHttpRequest;b.open("POST",a+encodeURI(aa));b.setRequestHeader("Content-Type","application/json");b.onreadystatechange=function(){4===b.readyState&&(200!==b.status?O["default"].log(b.status+" "+b.statusText,"ERROR","sbx-ce-vcpm-fetch"):y("PixelClientCallSuccess"))};b.onerror=function(){y("PixelClientCallFailure");O["default"].log("XMLHttpRequest error from old browser","ERROR","sbx-ce-vcpm-fetch")};b.send(aa)}},xb=function(a,b){var c=
function(){Ja(b?b:u(),d)},d=Ga(function(){var g=w("data-view-pixel",b?b:u());g&&(Ka(g),g=u("[data-view-pixel]"),null===g||void 0===g?void 0:g.removeAttribute("data-view-pixel"));e();f();a.v(null,b)},1E3),e=Ha(c),f=Z("resize",c,void 0);c()},La=function(a){a&&a.forEach(function(b){var c=Ga(function(){var d=w("data-view-pixel",b);d&&(Ka(d),null===b||void 0===b?void 0:b.removeAttribute("data-view-pixel"))},1E3);Ja(b,c)})},Ma=function(a,b){var c=null,d=null;a.addEventListener("touchstart",function(e){c=
e.touches[0].pageX});a.addEventListener("touchmove",function(e){null===c&&(c=e.touches[0].pageX);d=e.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==d&&b(d-c);c=d=null})},yb=function(a){if(ib["default"].isSupported("touch")){var b=u("[data-track-swipe]"),c=u("[data-trackswipe]"),d=function(e){var f=Math.abs(e);if(30<f){var g=A("[data-view-pixel]");La(g);a.s({direction:0>e?"left":"right",length:f})}};b?Ma(b,d):c&&Ma(c,d)}},zb=function(a,b){var c=Date.now();b=A("img",b);
var d=b.length,e=0,f=function(){++e===d&&a.vc({delay:Date.now()-c})};b.forEach(function(g){null!==w("data-lazy",g)&&null!==w("data-src",g)?g.addEventListener("load",function(){g.src===g.dataset.src&&f()}):g.complete?f():g.addEventListener("load",f)})},Ab=function(a){var b={anonymizedRequestId:a.anonymizedRequestId,campaignId:a.campaignId,slotName:a.slotName,idType:a.idType},c=function(d,e){try{var f=ra["default"],g=f.event,h=x.__assign({},b);if(e)for(var l in e)Object.prototype.hasOwnProperty.call(e,
l)&&(h[l]=e[l]);g.call(f,h,"base-be",lb[d],{ssd:!0})}catch(n){P(n)}};return{i:c.bind(null,"i"),v:c.bind(null,"v"),vc:c.bind(null,"vc"),c:c.bind(null,"c"),s:c.bind(null,"s"),ss:c.bind(null,"ss"),ia:c.bind(null,"ia"),e:function(d){c("e",d&&{name:d.name,message:d.message,stack:d.stack})}}},Na=function(a){var b=rb(a);b=Ab({anonymizedRequestId:qb(),campaignId:b,idType:ub(a),slotName:vb()});b.i({asins:[].map.call(A("[data-asin]",a),Fa),creativeType:ya(),creativeVariation:za(a),market:Aa(a),version:Da(a),
viewport:Ea(),weblabs:Ca(a)});pb(b,a);zb(b,a);xb(b,a);yb(b);Ba(a)&&b.ia({asins:[].map.call(A("[data-asin]",a),Fa),creativeType:ya(),creativeVariation:za(a),market:Aa(a),version:Da(a),viewport:Ea(),weblabs:Ca(a),adIndex:Ba(a),adId:tb(a)})},y=function(a,b){void 0===b&&(b=1);ra["default"].count("sbxGwentClient"+a,b)},R={log:function(a){var b=G().defaultView;var c=sb();(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?y(a,b):y("NoPageTime")}},Bb=function(a){var b=
a.url,c=a.onSuccess,d=a.onError;b||d();jb["default"].get(b,{success:function(e){e&&"ok"===e.status?c(e):d()},error:d,abort:d})},ha;(ha||(ha={})).adFeedbackHandler="adFeedbackHandler";var Cb=function(a,b,c,d,e){try{var f=JSON.parse(a),g=x.__read(f,6),h=g[0],l=g[1],n=g[2],k=g[3],p=g[4],m=g[5],r=[];Array.isArray(h)?h.forEach(function(v){return r.push({campaignId:c,creativeId:v})}):r.push({campaignId:c,creativeId:h});var q={adCreativeMetaData:{adCreativeId:Array.isArray(h)?h[0]:h,adId:b,adImpressionId:l,
adNetwork:"aax",adProgramId:1010,adCreativeDetails:r},adPlacementMetaData:{adElementId:n,pageType:k,pageUrl:p,searchTerms:m,slotName:d,adProgramId:1010}};return e+"?pl="+encodeURIComponent(JSON.stringify(q))}catch(v){return null}},Oa=function(a){var b=da["default"].setup().define,c=!!w("data-ad-feedback-clicks"),d=!!w("data-ad-feedback-simulate"),e=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",g=!1;c&&b(ha.adFeedbackHandler,"click",function(){R.log(f);"AdFeedbackPlaceholderClick"===f&&(g=
!0)});a=w("data-ad-feedback");b=w("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=w("data-slot");var h=w("data-aid"),l=w("data-cid");a=Cb(a,h,l,c,b);Bb({url:a,onSuccess:function(n){var k=n.html;var p=u('[data-id="afb-content"]');p&&k?(p.innerHTML=k,k=p):k=null;if(n=n.script)p=G().createElement("script"),p.type="text/javascript",p.innerHTML=n,u().appendChild(p);R.log(e);f="AdFeedbackLinkClick";k&&g&&d&&((n=u("a",k))?(n.click(),n=!0):n=!1,R.log(n?"AdFeedbackSimulateClickSuccess":
"AdFeedbackSimulateClickFail"))},onError:function(){R.log("AdFeedbackFallback");g&&d&&R.log("AdFeedbackSimulateClickFail")}})}},V=function(a,b){var c,d=[];try{for(var e=x.__values(a.split(/[-_]/)),f=e.next();!f.done;f=e.next()){var g=f.value;d.push(g.charAt(0).toUpperCase()+g.slice(1));if("creativeLevel"===b&&("desktop"===g||"mobile"===g))break}}catch(l){var h={error:l}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(h)throw h.error;}}return d.join("")},Eb=function(a,b,c,d,e,f,g,h,l,n,
k){return x.__awaiter(void 0,void 0,void 0,function(){var p,m,r;return x.__generator(this,function(q){switch(q.label){case 0:p=function(){return{adCreativeMetaData:{adCreativeDetails:Db(b,h,l,n,k)},adFeedbackLabelId:a}},m=function(v){var t=v.baseMessage,z=v.deviceType,B=v.tabletEnv,H=v.slotName;H=x.__read([V(v.creativeId,"creativeLevel"),V(H,"slotLevel")],2);v=H[0];H=H[1];y(t);z&&(z=t+"_"+z,B&&(z+="_"+B),y(z));v&&y(t+"_"+v);H&&y(t+"_"+H)},q.label=1;case 1:return q.trys.push([1,3,,4]),[4,c(p)];case 2:return q.sent(),
m({baseMessage:"EnableAdFeedbackSuccess",deviceType:d,tabletEnv:e,creativeId:f,slotName:g}),[3,4];case 3:return r=q.sent(),m({baseMessage:"EnableAdFeedbackFailure",deviceType:d,tabletEnv:e,creativeId:f,slotName:g}),P(r),[3,4];case 4:return[2]}})})},Fb=function(a){if(a){var b=a.split(" ");b.map(function(c,d){0<d&&(b[d]=c.substring(3,c.length))});b.pop();b.shift();return b}},Db=function(a,b,c,d,e){var f=[],g=w("data-card-metrics-id")||"",h=w("data-slot")||"";g=x.__read([V(g,"creativeLevel"),V(h,"slotLevel")],
2);var l=g[0],n=g[1];e&&e()!==a.length&&(a=a.filter(function(k){return u('[data-aid="'+k.adId+'"]')}));a.forEach(function(k,p){var m='[data-aid="'+k.adId+'"]';for(var r=u(m),q=b&&b()||document.body,v,t=0;(c?t<c.length:0>t)&&!(v=u(m+' div[class*="'+(null===c||void 0===c?void 0:c[t])+'"] img'));t++);v?y("AfImagePresent_"+l):y("AfImageMissing_"+l);m=(null===v||void 0===v?void 0:v.getAttribute("src"))||void 0;t=Fb((null===v||void 0===v?void 0:v.getAttribute("srcset"))||void 0);var z=(null===t||void 0===
t?void 0:t.length)||1;v=[];for(var B=0;B<z;B++)v.push({url:(null===t||void 0===t?void 0:t[B])||""});m={url:m?m:""};oa("SelectionSignals",k.selectionSignals,l,n);oa("AdvertiserIdNS",k.advertiserIdNS,l,n);if(r){(t=1===a.length||d)||(r=X(r),q?((t=u('div[data-index="'+p+'"]'))?t=0===t.offsetHeight&&0===t.offsetWidth?!0:!1:(O["default"].log("container Element for ad number "+p+" is not found","WARN","DSA/AdFeedback"),t=!0),t?t=!1:(q=X(q),r.left===q.left||r.right===q.right?q=Y(r.left,q.left,q.right)||Y(r.right,
q.left,q.right):(t=r.left,(t=t>q.left&&t<q.right)||(r=r.right,t=r>q.left&&r<q.right),q=t),t=q)):t=void 0);if(t){q=f.push;r=k.campaignId;t=k.adId;z=k.title;v={lowResolutionImage:pa(m),highResolutionImages:pa(v)};if(k.selectionSignals){m=k.selectionSignals;switch(m.pastActivity){case "STORE_ONLY":B=1;break;default:B=0}m=x.__assign(x.__assign({},m),{pastActivity:B})}else m=void 0;q.call(f,{campaignId:r,adId:t,adCreativeIndex:p,title:z,adCreativeImage:v,selectionSignals:m,advertiserIdNS:k.advertiserIdNS})}y("adElementPresent_"+
l)}else y("adElementMissing"),O["default"].log("adElement is not found: "+JSON.stringify(k),"WARN","DSA/AdFeedback"),y("adElementMissing_"+l)});return f},Pa=function(){A('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=u('[data-id*="cta-fallback"]',a.parentElement),c=u(".a-truncate",a),d=u(".a-truncate-full",a);c&&d&&(d.clientHeight>c.clientHeight&&b?(b.style.display="block",a.parentElement.removeChild(a)):(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||
d.innerHTML,a.parentElement.setAttribute("aria-label",b)),(c=u('[data-id*="cta-chevron"]',a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron","true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,d.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},Gb=function(a){var b=w("data-src",a)||"",c=w("data-srcset",a)||"",d=a.cloneNode();d.removeAttribute("data-src");d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode&&
a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity="0";R.log("LazyLoaded")}},Hb=function(){var a=A('[class*="eelModalRoot"]');a&&a.forEach(function(b,c){var d=w("data-modal-trigger",b),e=w("data-title",b),f=w("data-modal-settings",b);f=JSON.parse(f||"{}");if(d){c="eel-cards-modal-"+c;var g="."+b.className.split(" ")[0],h=sa["default"].create(c,g,{closeButton:(null===f||void 0===f?void 0:f.closeButton)||!1,a11yOpenMessage:e||"Energy Efficiency & Product Fiche",width:(null===f||void 0===
f?void 0:f.width)||800});e=na.setup();f=e.define;e=e.attach;h.once("beforeShow",function(){S["default"].loadDescendantImagesManually(b)});f("modal-handler-"+d,["click"],function(){h.show()});f("modal-close-handler-"+d,["click"],function(){h.hide()});f=u('[data-mix-operations="modal-handler-'+d+'"]');d=u('[data-mix-operations="modal-close-handler-'+d+'"]');f&&d&&(e("modalHandler",f),e("modalClose",d))}})},Ib=function(a){var b=function(d,e){d={$event:{preventDefault:S["default"].$.noop,stopPropagation:S["default"].$.noop},
$target:d.getContent().find('[data-a-tab-name="'+e+'"]'),data:{name:"energyEfficiencyTabSet"}};S["default"].trigger("a:declarative:a-tabs:click",d)},c=function(d,e){var f=d&&d.$event,g=d&&d.data||{},h=g.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();d&&f&&g&&h&&e&&(f=e.get(h),f||(S["default"].on("a:popover:beforeShow:"+h,function(l){var n,k,p;l.popover&&l.popover.getContent&&(l=l.popover.getContent(),null===(k=null===(n=null===l||void 0===l?void 0:l.find(".a-manually-loaded"))||
void 0===n?void 0:n.parent())||void 0===k?void 0:k.css("min-height",null!==(p=g.modalHeight)&&void 0!==p?p:800),S["default"].loadDescendantImagesManually(l))}),f=e.create(d.$target,g)),f&&(f.show(),g.activeTabName&&b(f,g.activeTabName)))};a&&a.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(d){S["default"].declarative("card-energy-efficiency-secondary-view","click",function(e){c(e,d)})})},Jb=function(a,b){return function(){var c,d=A("[data-pixel]"),e=0;try{for(var f=
x.__values(d),g=f.next();!g.done;g=f.next()){var h=g.value,l=a,n=X(h),k=X(l);if(Y(n.left,k.left,k.right)||Y(n.right,k.left,k.right)){var p=h.getAttribute("data-pixel");p&&p.length&&((new Image).src=p);h.removeAttribute("data-pixel");++e}}}catch(r){var m={error:r}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(m)throw m.error;}}m=A("[data-view-pixel]");e===d.length&&0===m.length?b():La(m)}},Kb=function(a,b){var c=Jb(a,function(){d();e();"function"===typeof b&&b()}),d=Ha(c,{el:a}),e=Z("resize",
c,void 0);c();return c},ia=function(a,b){b=b||ta["default"].cardRoot;return!a||ea(b,a)?b:b.querySelector(a)},Nb=function(a,b){Lb(a,b).forEach(function(c){var d=b?u("div[data-asin='"+c.itemId+"']"):u("div[data-aid='"+c.itemId+"']");(d=d?u("span[data-ad-deal-end-time]",d):null)&&null!==c.dealEndTime&&Mb(d,c.dealEndTime)})},Lb=function(a,b){var c=[];a.forEach(function(d){var e=b?w("data-asin",d):w("data-aid",d);d=w("data-ad-deal-end-time",d);e&&d?c.push({itemId:e,dealEndTime:d}):O["default"].log("attribute value for data-asin, data-aid, or data-ad-deal-end-time is null",
"ERROR")});return c},Mb=function(a,b){var c=ma.interval(function(){var d=(new Date(b)).getTime(),e=Date.now();e=Math.floor((d-e)/1E3);if(0>e)clearInterval(c);else{var f=Math.floor(e/60%60);d=Math.floor(e%60);e=("0"+Math.floor(e/3600%24)).slice(-2);f=("0"+f).slice(-2);d=("0"+d).slice(-2);a.innerText=e+":"+f+":"+d}},1E3)},Ob=function(){var a=G(),b=a.createElement("script");b.type="text/javascript";b.async=!0;b.defer=!0;b.src="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button_v2.js";
(a=a.getElementsByTagName("script")[0])&&a.parentNode&&a.parentNode.insertBefore(b,a)},Pb=function(){},Qa=function(a){a.setAttribute("disabled","disabled");if(a=fa(".a-button",a))a.classList.add("a-button-disabled"),a.classList.remove("a-button-focus")},Ra=function(a){a.removeAttribute("disabled");(a=fa(".a-button",a))&&a.classList.remove("a-button-disabled")},Sa=function(a,b){var c=wb(b,350);a.addEventListener("click",c);return function(){a.removeEventListener("click",c)}},Qb=function(a,b,c){var d=
u('[data-id="track"]'),e=u('[data-button="prev"]'),f=u('[data-button="next"]'),g=G().defaultView,h=12;if(!d||!e||!f)return Pb;var l=!!G().querySelector('[dir="rtl"]'),n=0,k=0,p=2,m=c&&c.isLifestyle,r=function(){var z=c&&c.minWidth||350,B=c&&c.maxWidth||600,H=m?[[0,0],[2*z,1],[900,2],[1500,3],[1900,4]]:[[0,0],[2*z,1],[1220,2],[1820,3],[2250,4]],Q=c&&c.borderWidth||0,J=parseInt(g.getComputedStyle(d).width,10);p=(H.find(function(M){return M[0]>J})||[J,4])[1]||0;if(!(1>p)){var I=Math.floor(J/p)+2*Q-24;
h=12;I>B&&(I=B,h=(J-I*p)/(2*p));I<z&&(I=z,h=(J-I*p)/(2*p));Array.from(d.children).forEach(function(M){M.style.width=I+"px";M.style.minWidth=I+"px";M.style.maxWidth=I+"px";M.style.marginLeft=h+"px";M.style.marginRight=h+"px"});d.children&&d.children[0]&&(n=parseInt(g.getComputedStyle(d.children[0]).width,10))}},q=function(z){r();z>d.children.length-p&&(z=k=d.children.length-p);d.style.transform="translateX("+(l?"":"-")+z*(n+2*h)+"px)";Ra(e);Ra(f);k===d.children.length-p&&Qa(f);0===k&&Qa(e)};a=function(z){var B=
"next"===z?1:-1;return function(){k+=B;q(k)}};f.addEventListener("click",a("next"));e.addEventListener("click",a("prev"));var v=Sa(f,b),t=Sa(e,b);q(k);(new g.ResizeObserver(function(){return q(k)})).observe(d);return function(){v();t()}},T=function(a,b){return a.querySelector("[class*="+b+"]")},Rb=function(a,b,c){a=JSON.parse(a);a.adCreativeMetaData=b.adCreativeMetaData;a.feedbackFormContainerId=c;return encodeURI(JSON.stringify(a))},Sb=function(a,b,c,d){return x.__awaiter(void 0,void 0,void 0,function(){var e,
f,g,h,l,n,k,p;return x.__generator(this,function(m){e="adFeedbackModal_"+a;m=(null===(p=T(b,"ad-feedback-modal-container"))||void 0===p?void 0:p.className)||"";f="."+b.className+" ."+m.replace(" ",".");h=(g=c().adCreativeMetaData.adCreativeDetails)?g.length:0;l=b.dataset.deviceType||"desktop";m=Math.max(560,125*h+130);var r=h;var q=l;r=d&&"true"===d.toLowerCase()?2>r?605:810:"tablet"==q?2>r?545:775:2>r?430:645;n={a11yOpenMessage:"",width:m,height:r};try{return k=sa["default"].create(e,f,n),[2,k]}catch(v){throw C.count("adfeedback:cards:clientDesktop:modalCreation:failure",
1),Error("Modal Creation Failed : "+v);}})})},Vb=function(a,b,c,d,e,f){var g="rtl"===document.getElementsByTagName("html")[0].dir?"ad-feedback-loading-spinnner-rtl":"ad-feedback-loading-spinnner";var h=T(F["default"].cardRoot,g);a.on("beforeShow",function(){return x.__awaiter(void 0,void 0,void 0,function(){var l;return x.__generator(this,function(n){switch(n.label){case 0:return l=Tb(a,b,c),[4,a.render(function(k){var p="250px",m=c().adCreativeMetaData.adCreativeDetails;m&&2>m.length&&(p="150px");
h.style.marginTop=p;k.innerHTML="";p=k.appendChild;m=document.getElementsByTagName("html")[0].dir;var r=F["default"].createElement("div"),q=F["default"].createElement("div");r.innerHTML=e;"rtl"===m?(r.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 28px; margin-right: 0px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 0px; padding-right: 25px; padding-top: 16px; text-align: right; text-rendering: optimizelegibility; visibility: visible;'),
q.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to left, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: right; visibility: visible; z-index: 10;')):
(r.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 0px; margin-right: 28px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 25px; padding-right: 0px; padding-top: 16px; text-align: left; text-rendering: optimizelegibility; visibility: visible;'),q.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to right, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: left; visibility: visible; z-index: 10;'));
q.appendChild(r);p.call(k,q);p=document.getElementsByTagName("html")[0].dir;m=F["default"].createElement("div");"rtl"===p?m.setAttribute("style","padding-bottom: 16px; padding-right: 50px ; padding-top: 16px; justify-content: center; align-items: center;"):m.setAttribute("style","padding-bottom: 16px; padding-left: 50px ; padding-top: 16px; justify-content: center; align-items: center;");Ub(h,m,d,l,f);k.appendChild(m)})];case 1:return n.sent(),[2]}})})})},Tb=function(a,b,c){c=c();var d=c.adCreativeMetaData.adCreativeDetails;
null===d||void 0===d?void 0:d.sort(function(e,f){return e.adCreativeIndex<f.adCreativeIndex?-1:1});return Rb(b,c,a.id)},Ub=function(a,b,c,d,e){b.appendChild(a);"function"==typeof C.uet&&C.uet("bb","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});kb["default"].post("/af/multi-creative/feedback-form",{accepts:"application/json",contentType:"application/json",additionalHeaders:{"Accept-Language":""===c?"en-US":c}},{pl:d,deviceType:"desktop"}).then(function(f){return x.__awaiter(void 0,
void 0,void 0,function(){var g,h,l;return x.__generator(this,function(n){"function"==typeof C.uet&&C.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});C.count("adfeedback:cards:clientDesktop:fetchFormContent:success",1);g=F["default"].createElement("div");g.innerHTML=String(f.responseBody);for(h=0;h<g.children.length;++h)l=g.children[h],"SCRIPT"===l.tagName?ja("script",l,b):"LINK"===l.tagName?ja("link",l,b):ja("div",l,b);b.removeChild(a);return[2]})})}).catch(function(){"function"==
typeof C.uet&&C.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});C.count("adfeedback:cards:clientDesktop:fetchFormContent:failure",1);b.innerHTML=e});"function"==typeof C.uex&&C.uex("ld","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1})},ja=function(a,b,c){var d=F["default"].createElement(a);d.innerHTML=b.innerHTML;b.getAttributeNames().forEach(function(e){d.setAttribute(e,b.getAttribute(e)||"")});c.appendChild(d)},Ta={},Wb=function(a,b){return x.__awaiter(void 0,
void 0,void 0,function(){var c,d,e,f,g,h,l,n,k;return x.__generator(this,function(p){c=T(a,"ad-feedback-primary-link");d=b().adFeedbackLabelId;e=da["default"].setup();f="open-modal"+d;g=b().adCreativeMetaData.adCreativeDetails;h=a.dataset;l=h.isDsaEnabled;n=h.weblabTreatment;k=String(l);"undefined"===k&&(k=g&&0<g.length?g[0].selectionSignals?"true":"false":"false");"true"===k&&"T1"!==n&&(k="false");e.attach(f,c);e.define(f,"click",function(){return x.__awaiter(void 0,void 0,void 0,function(){var m;
return x.__generator(this,function(r){switch(r.label){case 0:return(m=Ta[d])?[3,2]:[4,Sb(d,a,b,k)];case 1:m=r.sent();var q=a.dataset,v=q.formHeaderText,t=q.dsaFormHeaderText;Vb(m,q.adFeedbackPayload,b,q.currentLocale,"true"===k?t:v,q.formLoadErrorText);Ta[d]=m;r.label=2;case 2:return m.show(),[2]}})})});return[2]})})},Xb=function(a,b){var c=da["default"].setup(),d="mouse-enter"+b;b="mouse-leave"+b;var e=T(a,"ad-feedback-primary-link"),f=T(a,"ad-feedback-text-desktop"),g=T(a,"ad-feedback-sprite");
c.attach(d,e);c.define(d,"mouseenter",function(){g.style.backgroundPosition="0px -12px";f.style.color="#111111"});c.attach(b,e);c.define(b,"mouseleave",function(){g.style.backgroundPosition="0px 0px";f.style.color="#555"})},Yb=function(){return x.__awaiter(void 0,void 0,void 0,function(){var a,b,c,d,e;return x.__generator(this,function(f){switch(f.label){case 0:a=ia('[data-id="container"]'),f.label=1;case 1:f.trys.push([1,4,,5]);if(!(a&&a.dataset&&a.dataset.asinData&&"T2"===a.dataset.treatment))return[3,
3];b={asinData:JSON.parse(a.dataset.asinData)};c=gb["default"].setup();return[4,c.fetchFirstAsinImage(b)];case 2:d=f.sent(),d.images.forEach(function(g){var h=ia('[data-cid="'+g.campaignId+'"] div[class*="mainImage"] img');if(h){var l=h.getAttribute("src")||"",n=h.getAttribute("srcset")||"";h.setAttribute("src",g.image.source);h.setAttribute("srcSet",g.image.sourceSet);if(g=ia('[data-cid="'+g.campaignId+'"] div[class*="infoWrapper"]'))h=document.createElement("img"),h.setAttribute("src",l),h.setAttribute("srcset",
n),h.classList.add("_bXVsd_trueBrandLogo_26x3O"),g.insertBefore(h,g.firstChild)}}),f.label=3;case 3:return[3,5];case 4:return e=f.sent(),y("UnsuccessfulReplaceFirstImageWithClientAAPICall"),O["default"].log("Failed replace first image with client AAPI call: "+e,"WARN","SBX_GWENT"),[3,5];case 5:return[2]}})})},ba,$b=function(a){return function(){return x.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f,g,h,l,n,k,p,m,r,q,v,t,z,B,H;return x.__generator(this,function(Q){switch(Q.label){case 0:return R.log("Loaded"),
b=a||{},c=b.loadAdFeedback,d=b.onLoad,e=b.onInit,f=b.isMobile,g=b.enableAdFeedback,h=b.creativeContainer,l=b.creativeImageContainer,n=b.bypassAdFeedbackViewportCheck,k=b.renderedAdsCount,e&&e(),[4,hb["default"].pageReady];case 1:Q.sent();R.log("Ready");try{var J=u(".sbx-no-js",void 0);J&&J.classList.remove("sbx-no-js");try{var I=A("[data-cid]");I.length?I.forEach(Na):Na()}catch(K){P(K)}try{Pa(),Z("resize",Pa,void 0)}catch(K){P(K)}try{A('img[data-lazy="true"]').forEach(Gb)}catch(K){P(K)}u('[class*="eelModalRoot"]')?
Hb():u('[data-action*="card-energy-efficiency-"]')&&Ib(window.P);var M,ka;if(!("-webkit-line-clamp"in F["default"].cardRoot.ownerDocument.body.style||"lineClamp"in F["default"].cardRoot.ownerDocument.body.style)){var Ua=A('[class*="_sbTruncatedTitle_"]');if(Ua.length)try{for(var ca=x.__values(Ua),W=ca.next();!W.done;W=ca.next()){var N=W.value,Zb=parseInt(N.getAttribute("data-totallines")||"1"),Va=Math.ceil(parseFloat((null===(ka=F["default"].cardRoot.ownerDocument.defaultView)||void 0===ka?void 0:
ka.getComputedStyle(N).lineHeight)||"1.3em"))*Zb;if(!(N.scrollHeight<=Va)){for(;N.scrollHeight>Va;)N.innerText=N.innerText.slice(0,-1);N.innerText=N.innerText.slice(0,-3);N.innerText+="\u2026"}}}catch(K){var Wa={error:K}}finally{try{W&&!W.done&&(M=ca.return)&&M.call(ca)}finally{if(Wa)throw Wa.error;}}}d&&d();J=f;if(void 0!==J&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,y((J?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:
"4Plus"))}catch(K){P(K)}}catch(K){P(K)}p=w("data-ad-feedback-label-id");m=w("data-ad-creative-list");r=w("data-device-type")||"";q=w("data-tablet-env")||"";v=w("data-card-metrics-id")||"";t=w("data-slot")||"";z=V(v,"creativeLevel");if(!p||!m)return[3,6];Q.label=2;case 2:return Q.trys.push([2,4,,5]),B=JSON.parse(m),[4,Eb(p,B,g,r,q,v,t,h,l,n,k)];case 3:return Q.sent(),y("NewAdFeedbackImplementationEnabled_"+z),[3,5];case 4:return H=Q.sent(),c&&Oa(),P("Failed to generate adFeedback rendering payload: "+
H,"DSA/AdFeedback"),y("FallbackToOldAdFeedbackImplementation_"+z),[3,5];case 5:return[3,7];case 6:c&&Oa(),y("FallbackToOldAdFeedbackImplementation_"+z),P("Missing adFeedbackLabelId or adCreativeList","DSA/AdFeedback"),Q.label=7;case 7:return[2]}})})}}({loadAdFeedback:!0,onLoad:function(){if(ba=u('[data-id="carousel"]')){var a=function(){},b=Kb(ba,function(){a()});u('[data-enhanced-mbc="true"]')&&(a=Qb(ba,b,{minWidth:351,borderWidth:1}),b());w("data-deal-badge-automated")&&w("data-ad-deal-end-time")&&
(b=A('div[class*="carousel"] div[class*="track"] div[class*="container"]'),Nb(b,!1));Ob();Yb()}},enableAdFeedback:function(a){return x.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e;return x.__generator(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),b=a(),c=ta["default"].cardRoot.getElementsByClassName("adFeedbackMainComponent_"+b.adFeedbackLabelId)[0],d=c.dataset.isSponsoredLabelActive,"false"===(d||"false").toLowerCase()?[2]:[4,Xb(c,b.adFeedbackLabelId)];case 1:return f.sent(),
[4,Wb(c,a)];case 2:return f.sent(),[3,4];case 3:throw e=f.sent(),C.count("adfeedback:cards:clientDesktop:enableAdFeedback:failure",1),Error("Failed to call enableAdFeedback for desktop client : "+e);case 4:return[2]}})})},creativeContainer:function(){return ba},creativeImageContainer:["mainImage"]});la._operationNames=["fetchFirstAsinImage"];la.card=$b});
